--- 
title: "YOUR TITLE HERE"
author: "Jerry Xia, Siqi Chen,Yaoling Wang"
date: "`r Sys.Date()`"
output: pdf_document
site: bookdown::bookdown_site
---
```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```

# Introduction

Video games are a topic worth exploring among modern society. Some people treat them as a way of entertainment or pressure release and spend a substainable amount of time to improve rankings, euqipments or game experience. In this project, our team wants to explore three main questions relating to the platforms -- the places where the video games are published, the difference between critics' preference and users' preference, and the difference between popularity in US and Japan. 

Which platform contributes most to the video games? Is there any change over time? In terms of comparing the competitiveness of platforms, we are mainly interested in two main areas: the total number of games published and the total amount of sales generated by that platform. 

What are the critics' preference and users' preference? How are they different? To help players obtain a comprehensive review on video games, data source provides critics’ scores and users’ scores. From these two columns, we could sort the most popular genres among critics and general players based on a standardized scoring scale (out of ten), and study what the influential factors are. 

What are the top 5 popular genres across the world? What are the sale differnces in North America, Europe and Japan? Is there any contrast? we can use histograms, stacked bar charts, or tree maps to compare the sales of different genres in different regions. 



<!--chapter:end:index.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Data sources

Siqi Chen was responsible for collecting the data and the video games sales dataset studied in this project was collected from Kaggle.com\
link: https://www.kaggle.com/ashaheedq/video-games-sales-2019.
\

The data set we used is a continue work on this original dataset\
link：https://www.kaggle.com/gregorut/videogamesales
\
\
There are total 55,792 records in the dataset as of April 12th, 2019. It was generated by a scrape of vgchartz.com.\

The publisher collected over 55,000 records from VGChartz, which is a video game sales tracking website that provides weekly sales figures of console software and hardware by region. VGChartz provides sales data for all current gaming consoles and portables, as well as retail gaming software for all major platforms. The main service provided by VG Chartz is weekly charts of hardware and software sales for the video game consoles sold by Nintendo, Sony, and Microsoft.\

This dataset is credible since i) it includes metadata, such as subtitle, tags, overview description and cover image, ii) it has file descriptions and used appropriate file formats, and iii) it has a public kernel and task. Combined, it achieved a total usability score of 7.6. We chose this dataset over the original one because it was a latest version and had higher usability score (only 5.9 was reached for the original dataset, and the file description was missing as well).\
\
Variables included but not limitied in this study are: 

- Rank - Ranking of overall sales\
- Name - Name of the game\
- Platform - Platform of the game (i.e. PC, PS4, XOne, etc.)\
- Genre - Genre of the game\
- ESRB Rating - ESRB Rating of the game\
- Publisher - Publisher of the game\
- Developer - Developer of the game\
- Critic Score - Critic score of the game from 10\
- User Score - Users score the game from 10\
- Total Shipped - Total shipped copies of the game\
- Global_Sales - Total worldwide sales (in millions)\
- NA_Sales - Sales in North America (in millions)\
- PAL_Sales - Sales in Europe (in millions)\
- JP_Sales - Sales in Japan (in millions)\
- Other_Sales - Sales in the rest of the world (in millions)\
- Year - Year of release of the game\
\

It is a pity for us to see its lateset updates was two years ago. We were not able to analyze the new released PS5 sales figures since the gaming cosole was released in November 2020 and the data has not been collected. \

After carefully inspecting the dataset, we found many data in our cvs data file were missing. For instance, column "VGChartz_Score" did not contain any value. A lot of sales data, including Global sales, NA sales, PAL sales, JP sales and other sales were not available either. We will first remove those NA values and check if the data is still usable for later study. 

<!--chapter:end:02-data.Rmd-->

---
output:
  pdf_document: default
  html_document: default
---
```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Data transformation


## Brief View of the Dataset
There is a brief view of the first 20 rows of the dataset.
```{r echo=FALSE, message=FALSE, warning=FALSE}
library(readr)
library(DT)
vgsales = read_csv("vgsales-12-4-2019.csv")
datatable(head(vgsales,20),rownames = FALSE)
```




## Extracting Specifc Variables for Each Question

We are extracting variables that help us to better understand and answer the three questions seperately. 

### Extracted Dataset for Question 1

In order to explore the impact of the platform to the video games and the trend over time, we are creating a dataframe that contains varibles "Platform"  "Global_Sales"   "NA_Sales"   "PAL_Sales"  "JP_Sales"   "Other_Sales" ,and "Year" .
```{r}
dataset1 = vgsales[,c("Platform","Global_Sales" , "NA_Sales"    , "PAL_Sales" , "JP_Sales" ,"Other_Sales","Year" )]
```


These are the platforms that release video games.
```{r}
levels(factor(dataset1$Platform))
```


### Extracted Dataset for Question 2


### Extracted Dataset for Question 3

We want to find out the popularities among different genres worldwildly and compare the sales in different regions. Then we need to include varibles "Genre" "Global_Sales" "PAL_Sales" "NA_Sales",and "JP_Sales".
```{r}
dataset3 = vgsales[ ,c("Genre", "Global_Sales","NA_Sales", "JP_Sales","PAL_Sales")]
```

We could use the global sales to compare the popularity of genres. Then compare the regional sales for different genres using stacked bar charts or interactive plot.

<!--chapter:end:03-cleaning.Rmd-->

---
output:
  pdf_document: default
  html_document: default
---
```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Missing values

## Missing data Count
We can see the total number of NAs in each column for each dataset:
```{r}
colSums(is.na(dataset1))
#colSums(is.na(dataset2))
colSums(is.na(dataset3))
```

## Visualizing Missing data in dataset1
```{r}
extracat::visna(dataset1,sort = "r")
```


## Visualizing Missing data in dataset2
```{r}
#extracat::visna(dataset2,sort = "r")
```


## Visualizing Missing data in dataset3
```{r}
extracat::visna(dataset3,sort = "r")
```

## Deleting NAs
The rows shows a missing pattern and the columns represent the column level missing values. Here we can find out that our data has losts of missing values in three datasets.

We use na.omit to delete rows with missing values and check with is.na()
```{r}
dataset1 = na.omit(dataset1)
sum(is.na(dataset1))

#dataset2 = na.omit(dataset2)
#sum(is.na(dataset2))

dataset3 = na.omit(dataset3)
sum(is.na(dataset3))
```


<!--chapter:end:04-missing.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Results

<!--chapter:end:05-results.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Interactive component



<!--chapter:end:06-interactive.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Conclusion


<!--chapter:end:07-conclusion.Rmd-->

